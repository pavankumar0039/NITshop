<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HOME</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header>
        <nav class="navbar">


            <div class="heading">
                <!-- <div class="mainicon">
                    <div id="menu-btn" class="fas fa-arrow-right icon"></div>
                </div> -->
                <h1>NIT-SHOP</h1>
            </div>
            <div class="searchbutton">
                <form class="form">
                    <input type="text" name="search_box" required placeholder="Search Here" maxlength="100"
                        class="input">
                    <button type="submit" class="fas fa-search button"></button>
                </form>
            </div>
            <div class="icons">

                <div id="user-btn" class="fas fa-user icon" onclick="showprofile()"></div>
               
                <div id="toggle-btn" class="fas fa-shopping-cart icon"></div>
                <div id="menu-btn" class="fas fa-ellipsis-v icon"></div>

            </div>

        </nav>

    </header>
    <main>

        <div class="navbarnegativecontainer">

        </div>


        <div class="profilecontainer">
            <!-- <div class="profile-container c1">
                <div class="img">
                </div>
                <p class="para">Sign-In</p>
                <div class="email">
                    <input class="inputemail" type="email" placeholder="Enter Email">
                </div>
                <div class="password">
                    <input class="inputpass" type="password" placeholder="Enter password">
                </div>
                <a href="">forgetpassword</a>
                <div class="signinbtn">
                    <button class="btn signin">Sign-In</button>
                </div>
                <div class="c2">
                    <p>If you are not a member</p>
                    <button class="btn" onclick="signuppage()">Sign-Up</button>
                </div>

            </div> -->
            <div class="profile-container container1">
                <div class="container3">
                    <div class="container1-img">

                    </div>
                    <div class="container1">
                        <h3 class="username">Pavan Kumar</h3>
                    </div>
                </div>
                <div class="container1">
                    <button class="Viewprofile">View and EditProfile</button>
                </div>

                <div class="line">

                </div>
                <div class="container4 con">
                    <div class="icon1">
                        <div id="toggle-btn" class="fa-regular fa-heart"></div>
                    </div>
                    <div class="para">
                        <p>MY ADS</p>
                    </div>
                </div>
                <div class="container5 con">
                    <div class="icon1">

                        <div id="toggle-btn" class="fa-brands fa-wpforms"></div>
                    </div>
                    <div class="para">
                        <p onclick="sellerpage()">Sell Packages</p>
                    </div>
                </div>
                <div class="container6 con">
                    <div class="icon1">
                        <div id="toggle-btn" class="fa-regular fa-wallet"></div>

                    </div>
                    <div class="para">
                        <p onclick="yourproducts()">your-products</p>
                    </div>
                </div>
                <div class="line">

                </div>
                <div class="container7 con">
                    <div class="icon1">

                        <div id="toggle-btn" class="fa-sharp fa-solid fa-circle-info"></div>
                    </div>
                    <div class="para">
                        <p>HELP</p>
                    </div>
                </div>
                <div class="container8 con">
                    <div class="icon1">
                        <div id="toggle-btn" class="fas fa-cogs icon"></div>
                    </div>
                    <div class="para">
                        <p>Settings</p>
                    </div>
                </div>

            </div>
        </div>
        <div class="maincontainer">
            <div class="maincontainer1">
                <div class="mainsubcontainer1">
                    <div class="contentcontainer">
                        <div class="content">
                            <h1 class="contentheading">NIT-SHOP</h1>
                            <h2 class="contantsubheading">You Can Feel Good Shoping Interaction</h2>
                            <p class="contentinfo">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Eum
                                nostrum
                                molestiae natus
                                culpa, eveniet atque ab totam quasi illo veniam nemo ex repellendus? Animi enim
                                inventore porro ipsa dicta veritatis consequatur rem aliquam!</p>
                            <div class="buttoncontainer">
                                <button class="btn">Explore New Products</button>
                                <button></button>
                            </div>
                        </div>
                    </div>
                    <div class="contentimage">

                    </div>
                </div>
                <div class="mainsubcontainer2">
                    <div class="contentcontainer">
                        <div class="content">
                            <h1 class="contentheading">NIT-SHOP</h1>
                            <h2 class="contantsubheading">You Can Feel Good Shoping Interaction</h2>
                            <p class="contentinfo">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Eum
                                nostrum
                                molestiae natus
                                culpa, eveniet atque ab totam quasi illo veniam nemo ex repellendus? Animi enim
                                inventore porro ipsa dicta veritatis consequatur rem aliquam!</p>
                            <div class="buttoncontainer">
                                <button class="btn">Explore New Products</button>
                                <button></button>
                            </div>
                        </div>
                    </div>
                    <div class="contentimage">

                    </div>
                </div>

            </div>
        </div>

        <div class="product_container">
            <div class="products-heading">
                <h1>Fresh Recommandation</h1>
            </div>
            <div class="separator"></div>
            <div class="products">
            </div>

        </div>




        <div class="footer">

            <div class="footercontianer">
                <div class="footernameimg">
                    <div class="footerimg"></div>
                    <div class="footername">
                        <h1>NIT-SHOP</h1>
                    </div>
                </div>


                <div class="footerinfo">

                    <ul class="footerinfo1">
                        <li><a href="" style="color: white;">Products</a></li>
                        <li><a href="" style="color: white;">Benfits</a></li>
                        <li><a href="" style="color: white;">Partners</a></li>
                        <li><a href="" style="color: white;">Team</a></li>
                    </ul>
                    <ul class="footerinfo2">
                        <li><a href="" style="color: white;">Documentation</a></li>
                        <li><a href="" style="color: white;">Support</a></li>
                        <li><a href="" style="color: white;">Legal Terms</a></li>
                        <li><a href="" style="color: white;">About</a></li>
                    </ul>
                </div>
                <div class="footericons">
                    <i class="fa-brands fa-facebook-f"></i>
                    <i class="fa-brands fa-twitter"></i>
                    <i class="fa-brands fa-github"></i>
                    <i class="fa-brands fa-instagram"></i>
                </div>
                <div class="footerbuttons">
                    <h1>Contact Us</h1>
                    <div class="line">

                    </div>
                    <form action="">
                        <label for="email">Email</label>
                        <textarea name="email" id="email1" rows="1"></textarea>
                        <label for="Description">Description</label>
                        <textarea name="Description" id="Description1" rows="1"></textarea>

                    </form>
                </div>
            </div>
        </div>

    </main>
    <script>
        var profilecontainer = document.querySelector(".profile-container");

        var temp = 0;

        function showprofile() {
            var dis = "";

            if (temp == 0) {
                dis = "";
            } else if (temp != 0) {
                dis = "inline-flex";
            }

            console.log(dis);
            if (dis === "") {
                profilecontainer.classList.add("profile-container_transition");
                temp = 1;
            } else if (dis === "inline-flex") {
                profilecontainer.classList.remove("profile-container_transition");
                profilecontainer.classList.add("profile-container");
                temp = 0;
            }
        }
        function signuppage() {
            window.location.href = 'signup.html';
        }
        var userchange = document.querySelector(".username");
        var email = localStorage.getItem('data');
        const formData = new URLSearchParams();

        formData.append('email', email);

        fetch(`http://localhost:4141/insertinguserdetails`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded',
            },
            body: formData.toString(),
        })
            .then(response => response.json())
            .then(data => {

                userchange.innerText = data[0].username;
            })
            .catch(error => {
                console.error(error);
            });
      
            rendercontainer();

var productcontainer = document.querySelector(".products");

function rendercontainer() {
    fetch(`http://localhost:4141/populatinghomeproductcontainer`) 
        .then(response => response.json())
        .then(data => {
            var str = "";
            data.forEach(element => {
                var time = (element.proti).substr(2, 8);
                var dis = (element.prodis).substr(0, 20) + "....";
                str += `
            <div class="box">
               
                <div class="productimg">
                    <iframe src="${element.proimg}" alt="" class="productimg-img"></iframe>

                </div>
                <div class="productname">
                    <p class="nameofproduct">${element.prona}</p>
                </div>
                <div class="productprice">
                    <label class="label" for="">Price :</label>
                    <p><span>${element.propri}$</span></p>
                </div>
                <div class="discription">
                    <p class="dis">${dis}</p>
                    <p class="date">${time}</p>
                </div>
                <div class="proem">${element.proem}</div>
                <div class="product">
                    <button class="productbtn">viewproduct</button>
                </div>
                <div class="buttons">
                    <div class="productbuynow">
                        <button class="BuyNow">addtocart</button>
                    </div>
                </div>
            </div>`;
            });
            productcontainer.innerHTML = str;
          
            addEventListeners();
        })
        .catch(error => {
            console.error(error);
        });
}

function addEventListeners() {
    var viewproduct = document.getElementsByClassName("productbtn");
    for (var i = 0; i < viewproduct.length; i++) {
        viewproduct[i].addEventListener('click', (event) => {
            event.preventDefault();

            var proname = event.target.parentNode.parentNode.children[1].children[0].textContent;
            var proprice = event.target.parentNode.parentNode.children[2].children[1].textContent;
            var protime = event.target.parentNode.parentNode.children[3].children[1].textContent;
            var proem = event.target.parentNode.parentNode.children[4].textContent;

            const formdata = new URLSearchParams();
            formdata.append('proname', proname);
            formdata.append('proprice', proprice);
            formdata.append('protime', protime);
            formdata.append('email', proem);

            fetch(`http://localhost:4141/populatingviewproductcontainer`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                },
                body: formdata.toString(),
            })
                .then(response => response.json())
                .then(data => {

                    const array = [data[0].proimg, data[0].prona, data[0].propri, data[0].prodis,data[0].proem];
                    localStorage.setItem('productData', JSON.stringify(array));
                    window.location.href = 'product.html';
                })
                .catch(error => {
                    console.log(error);
                    console.error(error);
                });
        });
    }
}
      function sellerpage()
      {
        window.location.href = 'seelingpage.html';
      }
       function yourproducts(){
        window.location.href = 'myproducts.html';
       } 
    </script>
   
</body>

</html>